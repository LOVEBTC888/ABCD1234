import{_ as i,M as n,p as d,q as l,Q as e,t as a,N as t,V as o,a1 as c}from"./framework-2ecd7faa.js";const h={},p=e("h1",{id:"transposition",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#transposition","aria-hidden":"true"},"#"),a(" Transposition")],-1),u=e("p",null,"The ABC string can be transposed to another key and output as a string.",-1),b=e("code",null,"abcRender",-1),m=c(`<h2 id="entry-point" tabindex="-1"><a class="header-anchor" href="#entry-point" aria-hidden="true">#</a> Entry Point</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>var newAbc = ABCJS.strTranspose(originalAbc, visualObj, steps)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="parameters" tabindex="-1"><a class="header-anchor" href="#parameters" aria-hidden="true">#</a> Parameters</h2><p>All parameters are required</p><h3 id="originalabc" tabindex="-1"><a class="header-anchor" href="#originalabc" aria-hidden="true">#</a> originalAbc</h3><p>Default: none</p><p>This is the ABC string that you want to transpose.</p><h3 id="visualobj" tabindex="-1"><a class="header-anchor" href="#visualobj" aria-hidden="true">#</a> visualObj</h3><p>Default: none</p><p>This is the result of rendering that string. You must call <code>renderAbc()</code> before calling <code>strTranspose()</code>.</p><h3 id="steps" tabindex="-1"><a class="header-anchor" href="#steps" aria-hidden="true">#</a> steps</h3><p>Default: none</p><p>This is the number of half steps to transpose. It can be positive to transpose higher in pitch or negative to transpose lower. It can be <code>12</code> or <code>-12</code> to transpose an octave and can be larger than that to transpose more than an octave.</p><h2 id="example" tabindex="-1"><a class="header-anchor" href="#example" aria-hidden="true">#</a> Example</h2><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>var abc = &quot;K:D\\nDEFG|&quot;
var steps = 2
var visualObj = abcjs.renderAbc(&quot;paper&quot;, abc);
var output = abcjs.strTranspose(abc, visualObj, steps)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15),f={href:"https://paulrosen.github.io/abcjs/examples/output-transpose.html",target:"_blank",rel:"noopener noreferrer"},v=e("h2",{id:"notes",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#notes","aria-hidden":"true"},"#"),a(" Notes")],-1),_=e("p",null,"There are some types of ABC that cannot be transposed and because of the wide range of ways to write ABC there are some ABC strings that won't be transposed completely.",-1),g=e("p",null,'For instance, lines that have a clef of "perc" will not be transposed. And some ABC strings contain notes and chords in the lyric line or using the "annotation" syntax. Those will not be transposed.',-1),x=e("p",null,"That said, most input strings use a subset of the full ABC spec and are transposed completely.",-1),y=e("div",{class:"custom-container tip"},[e("p",{class:"custom-container-title"},"Bugs"),e("p",null,[a("This is a new feature and because of the complexity of the ABC specification there are bound to be bugs! Please let me know if you see an example of something that "),e("em",null,"should"),a(" have been transposed but wasn't.")])],-1);function w(A,T){const s=n("RouterLink"),r=n("ExternalLinkIcon");return d(),l("div",null,[p,u,e("p",null,[a("Note that there are other forms of transposition using parameters to the "),b,a(" call, but they do not output a string that can be used elsewhere. If you want to visually transpose you can use "),t(s,{to:"/visual/render-abc-options.html#visualtranspose"},{default:o(()=>[a("visualTranspose")]),_:1}),a(". If you want to transpose just the audio, use "),t(s,{to:"/audio/synthesized-sound.html#audioparams"},{default:o(()=>[a("midiTranspose")]),_:1})]),m,e("p",null,[a("For a full example, see the "),e("a",f,[a("Transposition Example"),t(r)]),a(".")]),v,_,g,x,y])}const C=i(h,[["render",w],["__file","transposing.html.vue"]]);export{C as default};
